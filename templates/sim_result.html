{% extends "layout.html" %}
{% block content %}
<div class="panel-group" id="accordion">
  <!-- Data Loading Panel -->
  <div class="panel panel" id="loadResultPanel">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a class="colpsible-panel"
           data-toggle="collapse"
           data-parent="#accordion"
           href="#loadResults">
           Load Power Analysis
        </a>
      </h4>
    </div>
    <div id="loadResults" class="panel-collapse collapse in">
      <div class="panel-body">
        <div class="go_panel">
        <!-- data options line -->
          <div  class="info-line data-driven-line">
            <div class="options-block">
              <div style="display: inline-block;">
                <label>Load Result:</label>
              </div>
               <div class="general-options">
                &nbsp;&nbsp;
                Job ID  &nbsp;
                <input style="width: 150px"
                      type="text"
                      class="form-control job-id-input"
                      value="case_heart-effect_0.5"
                      id="job_id_input">
                &nbsp;
                <span>&#124;</span>
                &nbsp;
                Test &nbsp;
                <div class="select-control">
                  <select class="form-control" id="result_test_method">
                    <option value="simes">Simes</option>
                    <option value="hypergeometric.ga">Hypergeometric</option>
                  </select>
                </div>
                &nbsp;
                &nbsp;
                Correction &nbsp;
                <div class="select-control">
                  <select class="form-control" id="result_multi_method">
                    <option value="Bonferroni">Bonferroni</option>
                    <option value="BH">Benjamini Hochberg</option>
                  </select>
                </div>
              </div>
            </div>
            <button type="button"
                class="btn btn-primary btn-sm icon-btn-right"
                id="load_simulation_button">
              <span class="glyphicon glyphicon-refresh"> </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Summary Panel -->
  <div class="panel panel" id="simOutputPanel">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a class="colpsible-panel"
           data-toggle="collapse"
           data-parent="#accordion"
           href="#simSummary">
           Overall Result Summary
        </a>
      </h4>
    </div>
    <div id="simSummary" class="panel-collapse collapse">
      <div class="panel-body">

      </div>
    </div>
  </div>
  <!-- Exploration Panel -->
  <div class="panel panel" id="goExplorePanel">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a class="colpsible-panel"
           data-toggle="collapse"
           data-parent="#accordion"
           href="#goExplore">
           Focus-and-Context Navigation
        </a>
      </h4>
    </div>
    <div id="goExplore" class="panel-collapse collapse">
      <div class="panel-body">
        {% include "go_interaction.html" %}
      </div>
    </div>
  </div>
  <!-- Output Panel -->
  <div class="panel panel" id="simOutputPanel">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a class="colpsible-panel"
           data-toggle="collapse"
           data-parent="#accordion"
           href="#simOutput">
           Download Results
        </a>
      </h4>
    </div>
    <div id="simOutput" class="panel-collapse collapse">
      <div class="panel-body">
        {% include "ss_manhattan.html" %}
        <div>
          <button id='export_as_png'>Export Figure as PNG</button>
          <button id='export_as_svg'>Export Figure as SVG</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="{{ url_for('static', filename='js/sim_result.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='lib/d3-save-svg/d3-save-svg.min.js') }}" ></script>
<script type="text/javascript" src="{{ url_for('static', filename='lib/d3-save-svg/FileSaver.min.js') }}" ></script>
<script type="text/javascript" src="{{ url_for('static', filename='lib/d3-save-svg/canvas-toBlob.js') }}" ></script>
<script src="https://cdn.rawgit.com/eligrey/FileSaver.js/e9d941381475b5df8b7d7691013401e171014e89/FileSaver.min.js"></script>
<script src="https://cdn.rawgit.com/eligrey/canvas-toBlob.js/f1a01896135ab378aa5c0118eadd81da55e698d8/canvas-toBlob.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/d3_save_utils.js') }}"></script>
{% endblock %}

