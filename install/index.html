<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Junjie (Jason) Zhu">
        <link rel="canonical" href="http://aegis.stanford.edu/install/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Installation - AEGIS Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/django.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">AEGIS Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li class="active">
    <a href="./">Installation</a>
</li>
                                    
<li >
    <a href="../manual/">Basic Manual</a>
</li>
                                    
<li >
    <a href="../tutorial/">Video Tutorials</a>
</li>
                                    
<li >
    <a href="../api/">API Documentation</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Jupyter Notebooks <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../notebooks/aegis_single_cell_example.html">Single Cell RNA-seq Application NULL</a>
</li>
                                    
<li >
    <a href="../notebook_single_cell/">Single Cell RNA-seq Application</a>
</li>
                                    
<li >
    <a href="../notebooks/aegis_benchmark_part1.html">Benchmark for Testing: Part 1</a>
</li>
                                    
<li >
    <a href="../notebooks/aegis_benchmark_part2.html">Benchmark for Testing: Part 2</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="..">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../manual/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#install-dependencies">Install Dependencies</a></li>
        <li class="main "><a href="#download-caches-optional">Download Caches (Optional)</a></li>
        <li class="main "><a href="#launch-the-local-server">Launch the Local Server</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>AEGIS is an open-source software, and the back-end and front-end implementations in Python and Javscript are available under the MIT License. The following instructions are used to install the <em>full</em> version of AEGIs, which includes all of its functionalities including power calculation.</p>
<h2 id="install-dependencies">Install Dependencies</h2>
<p><em>Prerequisites</em>: <a href="http://docs.python-guide.org/en/latest/">Python3</a> (required),
<a href="https://virtualenv.pypa.io/en/stable/">virtualenv</a> or other package managements (recommended).</p>
<p>The code is available on github, so you can directly clone the repository to your local:</p>
<pre><code>git clone git@github.com:junjiezhujason/aegis.git
</code></pre>
<p>Installing of dependencies only requires one line:</p>
<pre><code>pip3 install -r requirements.txt
</code></pre>
<p>AEGIS also requires specification of a folder: <code>${LOCALPATH}</code> to store the
cached files. This is mainly for version control and speed performance.
For most of the analyses (excluding simulation outputs), the files will typically
require no more than 250M of disk space.</p>
<p><em>Note</em>: If this is the first time that you are running AEGIS locally, Internet connection
will be required to download data (or our cached files below) from the online databases.</p>
<h2 id="download-caches-optional">Download Caches (Optional)</h2>
<p>You can manually pre-propagate some local files in <code>${LOCALPATH}</code> to reduce setup time.
Once the cache is stored, most features of AEGIS can be performed locally
without Internet connection for ontology or data download.</p>
<p>Simply download the light cache files of (version-controlled)
species/ontologies <a href="http://stanford.edu/~jjzhu/fileshare/aegis">here</a>
and unpack to the directory <code>${LOCALPATH}</code>, e.g., <code>local_${VERSION}.tar.gz</code>
Make sure to expand the files in the <code>${LOCALPATH}</code> so that the folder includes
them in the following format: <code>${LOCALPATH}/local/godag_*.pkl</code></p>
<p>Here is an example of the command line workflow:</p>
<pre><code>cd ${LOCALPATH}
wget http://stanford.edu/~jjzhu/fileshare/aegis/local_20180710.tar.gz
tar -xvzf local_20180710.tar.gz
</code></pre>
<p>The local directory should have the following structure, for example:</p>
<pre><code>${LOCALPATH}/local/godag-biological_process-human-20180719.pkl
${LOCALPATH}/local/godag-biological_process-mouse-20180719.pkl
${LOCALPATH}/local/godag-cellular_component-human-20180719.pkl
${LOCALPATH}/local/godag-cellular_component-mouse-20180719.pkl
${LOCALPATH}/local/godag-molecular_function-human-20180719.pkl
${LOCALPATH}/local/godag-molecular_function-mouse-20180719.pkl
</code></pre>
<p>Here <code>20180719</code> represents the version number of the ontology paired with the annotation.
It is highly useful for reproducing any results from the GO as well as AEGIS.</p>
<p><em>Note</em>: If you skip this step, the latest version of the GO and annotation files will be downloaded,
and the total setup time will take longer.</p>
<h2 id="launch-the-local-server">Launch the Local Server</h2>
<p>To launch the server, run:</p>
<pre><code>python3 main.py --port 5000 --folder ${LOCALPATH}
</code></pre>
<p><em>Note</em>: both the port number and the local path options are required.</p>
<p>If this is your first time running AEGIS and you did not download our cached
files, AEGIS will automatically download the latest gene and go annotations.
This may take a while, and the following <em>extra</em> files will be automatically generated
inside the local directory:</p>
<pre><code>${LOCALPATH}/local/gene2go
${LOCALPATH}/local/go-basic.obo
${LOCALPATH}/local/geneid2sym_human.json
${LOCALPATH}/local/geneid2sym_mouse.json
</code></pre>
<p>and later, the program will also generate the cached files</p>
<pre><code>${LOCALPATH}/local/godag-*-*-*.pkl
</code></pre>
<p>The version number will be based on the date the files are downloaded and when the<code>.pkl</code> file is created.</p>
<p>By default, AEGIS  will continue this version if the same ${LOCALPATH} is
specified. To update the version, simply create a new local path to repeat
the analysis above. Finally, open your local browser with</p>
<pre><code>http://localhost:5000/
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
